/*
 * Interpreter.cpp
 *
 *  Created on: Jul 17, 2013
 *      Author: oek
 */

#include "Interpreter.h"
#include "Idea.h"
#include "MainFrame.h"

Interpreter::Interpreter(MainFrame* instance) {
	std::cout << "Interpreter" << std::endl;
	instance_ = instance;
}
// TODO ACTUALLY INTERFACE THESE
void Interpreter::SetMaterial(Tag idea, Tag material) {
	Idea* idea_to_use = instance_->GetIdea(idea);
	idea_to_use->SetMaterial(material);
}

/*
void Interpreter::SetAudioPassage(Tag idea, Passage* audio) {
	Idea* idea_to_use = instance_->GetIdea(idea);
	idea_to_use->SetAudio(audio);
}*/
void Interpreter::SetAudioPassage(Tag idea, uint16_t n_data, float* data) {

	Idea* idea_to_use = instance_->GetIdea(idea);
	Passage* passage_to_use = idea_to_use->GetAudioPassage();
	FloatListToPassage(passage_to_use, n_data, data);
}
/*
void Interpreter::SetEnvelopePassage(Tag idea, Passage* envelope) {
	Idea* idea_to_use = instance_->GetIdea(idea);
	idea_to_use->SetEnvelope(envelope);
}
*/
void Interpreter::SetEnvelopePassage(Tag idea, uint16_t n_data, float* data) {

	Idea* idea_to_use = instance_->GetIdea(idea);
	Passage* passage_to_use = idea_to_use->GetEnvelopePassage();
	FloatListToPassage(passage_to_use, n_data, data);
}

void Interpreter::OnsetDropFromIdea(Tag idea) {
	Idea* idea_to_use = instance_->GetIdea(idea);
	instance_->OnsetDrop(idea_to_use);
}
void
Interpreter::LoadAudioMaterial(Tag association, char* path_to_file) {
	instance_->LoadAudioMaterial(association, path_to_file);
}
